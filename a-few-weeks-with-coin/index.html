<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>A few weeks with Coin - Ad Hoc</title><meta name="description" content="As one of the original backers of Coin, I had completely given&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://gadgetboy.org/a-few-weeks-with-coin/"><link rel="amphtml" href="https://gadgetboy.org/amp/a-few-weeks-with-coin/"><link rel="alternate" type="application/atom+xml" href="https://gadgetboy.org/feed.xml"><link rel="alternate" type="application/json" href="https://gadgetboy.org/feed.json"><meta property="og:title" content="A few weeks with Coin"><meta property="og:image" content="https://gadgetboy.org/media/posts/15/coin1.jpg"><meta property="og:site_name" content="Ad Hoc"><meta property="og:description" content="As one of the original backers of Coin, I had completely given&hellip;"><meta property="og:url" content="https://gadgetboy.org/a-few-weeks-with-coin/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@gadgetboy"><meta name="twitter:title" content="A few weeks with Coin"><meta name="twitter:description" content="As one of the original backers of Coin, I had completely given&hellip;"><meta name="twitter:image" content="https://gadgetboy.org/media/posts/15/coin1.jpg"><link rel="shortcut icon" href="https://gadgetboy.org/media/website/favicon.png" type="image/png"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Heebo:400,500%7CPlayfair+Display:400&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="https://gadgetboy.org/assets/css/style.css?v=94768b630d7a0a18917b3e4f92cbc2e9"><link rel="stylesheet" href="https://gadgetboy.org/assets/css/photoswipe.css?v=ffb247881cd6f611d007fd4a96b7b16a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://gadgetboy.org/a-few-weeks-with-coin/"},"headline":"A few weeks with Coin","datePublished":"2015-07-15T22:35","dateModified":"2020-03-11T22:40","image":{"@type":"ImageObject","url":"https://gadgetboy.org/media/posts/15/coin1.jpg","height":1088,"width":1088},"description":"As one of the original backers of Coin, I had completely given&hellip;","author":{"@type":"Person","name":"John A. Federico"},"publisher":{"@type":"Organization","name":"John A. Federico"}}</script><script async src="https://gadgetboy.org/assets/js/lazysizes.min.js?v=9c0e65e25f8f098037678ba0c2be1d9f"></script><style>.pswp--svg .pswp__button,
				          .pswp--svg .pswp__button--arrow--left:before,
				          .pswp--svg .pswp__button--arrow--right:before {
					          background-image: url(https://gadgetboy.org/assets/svg/gallery-icons-light.svg);
			              }</style><script async src="https://www.googletagmanager.com/gtag/js?id=UA-168747029-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-168747029-1');</script></head><body><div class="container"><header><a class="logo" href="https://gadgetboy.org/">Ad Hoc</a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle" aria-expanded="false">Menu</button><ul class="navbar__menu"><li><a href="https://gadgetboy.org/about/" target="_self">About</a></li><li><a href="https://gadgetboy.org/contact/" title="Reach Out" target="_self">Contact</a></li></ul></nav><div class="top__search"><form action="https://gadgetboy.org/search.html" class="search"><input type="search" name="q" placeholder="search..."></form></div></div></header><main><article class="post u-wrapper"><header class="hero"><p class="post__meta">Published on <time datetime="2015-07-15T22:35">July 15, 2015</time></p><h1 class="post__title">A few weeks with Coin</h1></header><div class="post__featured-image post__image--normal"><img class="lazyload" src="https://gadgetboy.org/media/posts/15/responsive/coin1-xs.jpg" data-srcset="https://gadgetboy.org/media/posts/15/responsive/coin1-xs.jpg 300w ,https://gadgetboy.org/media/posts/15/responsive/coin1-sm.jpg 480w ,https://gadgetboy.org/media/posts/15/responsive/coin1-md.jpg 768w ,https://gadgetboy.org/media/posts/15/responsive/coin1-lg.jpg 1024w ,https://gadgetboy.org/media/posts/15/responsive/coin1-xl.jpg 1360w ,https://gadgetboy.org/media/posts/15/responsive/coin1-2xl.jpg 1600w ,https://gadgetboy.org/media/posts/15/responsive/coin1-sm2.jpg 375w" data-sizes="auto" width="1088" height="1088" alt="Coin"></div><div class="post__entry"><p>As one of the original backers of <a href="http://onlycoin.com">Coin</a>, I had completely given up on it.</p><p>I figured it was an experiment in crowdfunding, one where I was the butt of the joke.</p><p>Imagine my surprise when, after two years, I received an email asking me to confirm the shipping address for my Coin. (“Wow. Is it <em>really</em> going to ship this time?”)</p><p>A week later, I was finally holding the impressively engineered device in my hand.</p><h3 id="waitwhatsacoin">Wait, what’s a Coin?</h3><p>Oh, yeah. You might not know what Coin is.</p><p>Imagine aggregating all your credit cards and debit cards onto a <em>single</em> card, then being able to select which one is used when the mag stripe is swiped.</p><p>That’s Coin.</p><p>Sure, there are a bunch of security related features and it requires a smartphone app to set it up, but that’s Coin in a nutshell.</p><h3 id="whycoinwhatswrongwithyourcards">Why Coin? What’s wrong with your cards?</h3><p>Nothing is ostensibly wrong with my cards. There are just too many of them.</p><p>I carry a few more cards than the average person. Not because I’m special or incredibly well-endowed with credit, but because I have personal cards and business cards.</p><p>This just creates a fat wallet that is difficult to fit in the pocket of my jeans. Over time, I’ve tried to pare down the things I have to carry and after <a href="https://gadgetboy.org/archives/2011/1/31/experiments-in-minimalism-and-new-thinking.html">combining my iPhone case with my wallet</a>, Coin seemed like the logical next step.</p><h3 id="soisitanygood">So, is it any good?</h3><p>Not so fast. I’m getting there.</p><h2 id="unboxing">Unboxing</h2><p>Coin arrived in beautiful, Apple-esque packaging with nothing but the Coin device and a mag stripe reader that plugs into the headphone jack of your smartphone.</p><p>Before you can use it, you have to install the app on your iPhone or Android device. Installation on my iPhone 6 Plus followed the standard process. After installation, I just needed to sign in using my Coin account, which I had created on their web site many moons ago.</p><p>After that, I had to setup my Tap Code. If you’re like me, you may be wondering, “WTF is a Tap Code?” It wasn’t well defined. I had to visit the Coin support site to find out.</p><p>I’ll explain more about the Tap Code when I talk about using Coin.</p><p>Once that was done, it was time to add my cards. There are two ways to add your cards: using the mag stripe reader or manually keying-in the card information.</p><p>Even if you add a card manually, you still have to swipe it using the mag stripe reader to prove that you have the card in your possession.</p><p>From a security standpoint this make sense, but then why allow manual entry at all?</p><h2 id="syncitup">Sync it up</h2><p>Coin uses your smartphone (via Bluetooth) to load your card data onto the device. It also uses this Bluetooth link as a way to help secure your card when it’s out of range of your phone and to remind you when you’ve lost it. More on this later.</p><p>After you’ve entered your cards, select which of them you’d like to sync to your Coin (You can sync up to eight at a time) and select <em>Sync</em>.</p><p>If you haven’t already paired your Coin with your phone, the app will prompt you to do this now. (I found this easier than the standard iPhone pairing process.) In a few seconds, your card data will be on your Coin.</p><h2 id="usingcoin">Using Coin</h2><p>If the device isn’t already on, click the button just below the e-ink screen to get started. The screen will say “LOCK”. If you’re in proximity to your smartphone, you can instruct the Coin app to automatically unlock your Coin. Otherwise, you can use the Tap Code to unlock it.</p><h3 id="tapcode">Tap Code?</h3><p>Think of your Tap Code as a kind of Morse Code – a series of dots and dashes – that you enter to unlock your Coin. For those of you who are too young to remember Morse Code, just think of it as a series of “long” and “short” presses in a series that you specify through the Coin app.</p><p>To unlock your Coin, use the button to enter your unique Tap Code. Once unlocked, you’ll be presented with an abbreviated name of your card (e.g. “AMEX”), the last four digits of the card and the expiration date. This is to help you know which card you’re using.</p><p>If that’s not the card you’re lucking for, click the button once to advance to the next card. When you find the one you want, you can swipe the mag stripe regardless of whether it’s Locked or Unlocked at the time.</p><p>Here’s an example of using it while Unlocked: You’re checking out at Trader Joe’s and you want to pay for your groceries. You select the card you want and swipe your Coin through the card reader. Because your Coin is still in Bluetooth range of your phone, it will be unlocked and continue to display the card information on the screen.</p><p>Here’s an example of using it while Locked: You’re in a restaurant and your server brings the check. You unlock your Coin to select the card you’d like to use and hand it to the server. When your Coin is no longer in range of your phone, it will automatically Lock. The last card that appeared on the screen is what will be encoded on the mag stripe when it’s swiped. You can continue to use it that way until you unlock it and change the card.</p><h3 id="sodoesitwork">So, does it work?</h3><p>No, it doesn’t.</p><p>Now, any Coin fans or Coin employees reading this post might say, “Hey, wait just one darn minute…” and they’d be right.</p><p>It works. <strong>Some</strong> of the time.</p><p>But in my mind, that’s just not good enough.</p><p>I’ll give you some examples:</p><p>When using card readers that require you to insert your card, then remove it when instructed (vending machines, parking payment machines, car rental machines) they typically can’t read the data encoded on the mag stripe.</p><p>Last week, I tried to purchase tickets for the commuter train. The vending machine could’t read the mag stripe on my Coin. Luckily, I had spare ticket stashed in my messenger bag and didn’t miss my train.</p><p>As I write this, I’m returning from a trip to Austin and like a good early adopter, I went all-in with my Coin, leaving all but one business card and one personal card at home.</p><p>I reserved a rental car online and when I arrived to pick it up and use the self-service system, it rejected me. The machine couldn’t read the mag stripe on the Coin and in order to use the automated system, I had to swipe the card that I’d used to make reservation. Fail #1.</p><p>Then as I was working with a customer service rep to complete my reservation, it failed again. The card reader connected to the rep’s computer couldn’t read my Coin. Fail #2.</p><p>Luckily, I was with my wife and we were able to change the reservation so that she was listed as the primary driver and could use her American Express card for the rental. (For those who don’t know, Amex provides supplemental auto insurance for car rentals, which is why I use it whenever I rent a car.)</p><p>I could go on, but I’ve given up.</p><p>Not just with this post, but with my Coin.</p><p>If I can’t replace all my cards with a Coin but instead, have to carry all my cards, <strong>plus</strong> my Coin, “just in case”, Coin does not fulfill it’s promise.</p><p>Sure, it’s an impressive feat of technology with a circuit board “the width of a human hair” but all of that means nothing if the product doesn’t work at least 99% of the time.</p><p>And it doesn’t.</p><p>As a result of this failed crowdfunding experience along with the still-unavailable <a href="https://www.indiegogo.com/projects/thingcharger-awesome-new-charger-for-your-things--2#/story">ThingCharger</a>, I’ve given up on crowdfunding consumer products, probably for good.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-columns="3"><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin11.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin11-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin10.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin10-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin9.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin9-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin8.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin8-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin7.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin7-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin6.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin6-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin5.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin5-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin4.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin4-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin3.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin3-thumbnail.jpg" alt="" width="739" height="739"></a></figure><figure class="gallery__item"><a href="https://gadgetboy.org/media/posts/15/gallery/coin2.jpg" data-size="739x739"><img loading="lazy" src="https://gadgetboy.org/media/posts/15/gallery/coin2-thumbnail.jpg" alt="" width="739" height="739"></a></figure></div></div></div><footer class="post__footer"><div class="post__last-updated">This article was updated on March 11, 2020</div><div class="post__footer__col"><ul class="post__tag"><li><a href="https://gadgetboy.org/tag/gadgets/">Gadgets</a></li><li><a href="https://gadgetboy.org/tag/payments/">Payments</a></li></ul><div class="post__share"></div></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://gadgetboy.org/twelve-south-bookbook-wallet-case-for-iphone/" class="inverse" rel="prev">Twelve South BookBook Wallet Case for iPhone</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://gadgetboy.org/loopback-from-rogue-amoeba/" class="inverse" rel="next">Loopback from Rogue Amoeba</a></h5></div></nav><div class="post__bio"><img class="lazyload" data-src="https://gadgetboy.org/media/website/69457654_10156283081645974_4851778585809125376_n.jpg" alt="John A. Federico"><div><h3><a href="https://gadgetboy.org/author/john-a-federico/" class="inverse" title="John A. Federico">John A. Federico</a></h3></div></div></footer></article><div class="comments u-wrapper"><h3 class="u-h5">Comments</h3><div id="disqus_thread"></div><script>var disqus_config = function () {
                    this.page.url = 'https://gadgetboy.org/a-few-weeks-with-coin/';
            		this.page.identifier = '15';
                    this.page.title = ' A few weeks with Coin';
                };
            
                var disqus_loaded = false;
            
                function publiiLoadDisqus() {
                    if(disqus_loaded) {
                        return false;
                    }
            
                    var top = document.getElementById('disqus_thread').offsetTop;
            
                    if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                        disqus_loaded = true;
            
                        (function () {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://ad-hoc.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    }
                }
            
                publiiLoadDisqus();
            
                window.onscroll = function() {
                    publiiLoadDisqus();
                };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></main><footer class="footer"><div class="footer__copyright"><p>Powered by <a href="https://pop.system76.com/" title="Pop!_OS" target="_blank" rel="noopener">Pop!_OS</a>, <a href="https://getpublii.com" target="_blank" rel="noopener noreferrer" title="Publii Static Site Generator">Publii</a> and <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer" title="Learn about GitHub Pages">GitHub Pages</a></p></div></footer></div><script defer="defer" src="https://gadgetboy.org/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://gadgetboy.org/assets/js/scripts.min.js?v=16be857f09f55a0c76ea5e92e1f5f9d0"></script><script defer="defer" src="https://gadgetboy.org/assets/js/photoswipe.min.js?v=90d5a5ff4789f25f79840f95fc089c0e"></script><script defer="defer" src="https://gadgetboy.org/assets/js/photoswipe-ui-default.min.js?v=c061a13816b98ce8c8a7ffb2e62dc403"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
          linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
          if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
          item.el=figureEl;items.push(item);}
          return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
          var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
          if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
          nodeIndex++;}
          if(index>=0){openPhotoSwipe(index,clickedGallery);}
          return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
          var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
          var pair=vars[i].split('=');if(pair.length<2){continue;}
          params[pair[0]]=pair[1];}
          if(params.gid){params.gid=parseInt(params.gid,10);}
          return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
          mainClass:'pswp--dark',
          preload: [1,2],
          hideAnimationDuration:200,
          showAnimationDuration:0,
          bgOpacity: 0.7,
          showHideOpacity:true,
          closeOnScroll: true,
          arrowKeys: true,
          closeEl: true,
          captionEl: true,
          fullscreenEl: true,
          zoomEl: true,
          shareEl: true,
          counterEl: true,
          arrowEl: true,
          preloaderEl: true
          };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
          if(isNaN(options.index)){return;}
          if(disableAnimation){options.showAnimationDuration=0;}
          gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
          var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};initPhotoSwipeFromDOM('.gallery');</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><div class="cookie-popup js-cookie-popup cookie-popup--uses-badge"><h2>My blog uses cookies</h2><p>My blog uses cookies to understand how readers found it, what people find most interesting and, to make sure everything is functioning properly. <a href="https://gadgetboy.org/privacy-policy/">More details...</a></p><form><input id="gdpr-necessary" name="gdpr-necessary" checked="checked" disabled="disabled" type="checkbox"> <label for="gdpr-necessary">Required</label><p class="cookie-popup__save-wrapper"><button type="submit" class="cookie-popup__save">Save</button></p></form><span class="cookie-popup-label">Cookie Policy</span></div><script>(function() {
                function addScript (src, inline) {
                    var newScript = document.createElement('script');

                    if (src) {
                        newScript.setAttribute('src', src);
                    }

                    if (inline) {
                        newScript.text = inline;
                    }

                    document.body.appendChild(newScript);
                }

                var popup = document.querySelector('.js-cookie-popup');
                var checkboxes = popup.querySelectorAll('input[type="checkbox"]');
                var save = popup.querySelector('button');
                var currentConfig = localStorage.getItem('publii-gdpr-allowed-cookies');
                var blockedScripts = document.querySelectorAll('script[type^="gdpr-blocker/"]');
                

                popup.addEventListener('click', function() {
                    if (!popup.classList.contains('cookie-popup--is-sticky')) {
                        popup.classList.add('cookie-popup--is-sticky');
                    }
                });

                save.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    popup.classList.remove('cookie-popup--is-sticky');
                    var allowedGroups = [];

                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].checked) {
                            var groupName = checkboxes[i].getAttribute('name').replace('gdpr-', '');
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + groupName + '"]');

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }

                            allowedGroups.push(groupName);
                        }
                    }

                    localStorage.setItem('publii-gdpr-allowed-cookies', allowedGroups.join(','));
                    popup.classList.remove('cookie-popup--is-sticky');

                    setTimeout(function () {
                        if (currentConfig !== null) {
                            window.location.reload();
                        }
                    }, 250);
                });

                if (currentConfig === null) {
                    popup.classList.add('cookie-popup--is-sticky');
                } else {
                    if (currentConfig !== '') {
                        var allowedGroups = currentConfig.split(',');

                        for (var i = 0; i < allowedGroups.length; i++) {
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroups[i] + '"]');
                            var checkbox = popup.querySelector('input[type="checkbox"][name="gdpr-' + allowedGroups[i] + '"]');

                            if (checkbox) {
                                checkbox.checked = true;
                            }

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }
                        }
                    }
                }
            })();</script></body></html>